{% load latextags %}

\documentclass[10pt]{article}

\usepackage[utf8]{inputenc}
\usepackage{graphicx,url}
\usepackage[brazil]{babel}
\usepackage[linkcolor=blue,citecolor=blue,urlcolor=blue,colorlinks,pdfpagelabels]{hyperref}
\usepackage[a4paper,top=3.5cm,left=3cm,right=3cm,bottom=2.5cm]{geometry}

\title{Relatório de UseCases -- draft} %mude para o titulo do seu relatorio
\author{RiSE/Medicware} %mude para os autores do relatorio

\begin{document} 

\maketitle

\newpage

\tableofcontents

\newpage

{% for case in usecase %}
	\setcounter{section}{ {{case.id|add:'-1'}}}
	\section{~UC:{{case.name}}}
	\label{uc{{case.id}}}

	\textbf {Descrição:} {{case.description}}
	
	\begin{description}
  	  \item[Tipo de variabilidade:]  {{case.variabilityType}}
	\end{description}
	
	\noindent
	\textbf{Atores:} 
	\begin{itemize}
	{% for actor in case.actors.all %}
	  \item {{actor.id}} - {{actor}}
	{% endfor %}
	\end{itemize}
	
	\noindent
	\textbf{Requisitos:}
	\begin{itemize} 
	{% for req in case.requirements.all %}
	  \item {{req.id}} - {{req}}
	{% endfor %}
	\end{itemize}
	
	\noindent
	\textbf{Pré-condição:} 
	\begin{itemize}
      {{case.preCondition|itemsnewline}}
	\end{itemize}
	
	\noindent
  	\textbf{Pós-condição:} 
  	\begin{itemize}
       {{case.posCondition|itemsnewline}}
	\end{itemize}
  	
  	\noindent
  	\textbf{Fluxo principal:} 
  	
  	\begin{itemize}
  	  {{case.mainFlow|itemsnewline}}
  	\end{itemize} 

\newline 

{% if case.usecasesecondaryflow_set.all %}
	\noindent
	\textbf{Fluxos secundários (Tabela
	\ref{tbl:use_secondary_flows{{case.id}}}):}
	 
	\begin{table}[htp]
		\centering
		\begin{tabular}{|c|p{5cm}|c|p{6cm}|}
		\hline
		\textbf{ID} & \textbf{Alias} & \textbf{Tipo} & \textbf{Fluxo}\\
		\hline
		{% for sflow in case.usecasesecondaryflow_set.all %}		
		{{sflow.id}} & {{sflow.alias}} & {{sflow.type}} &
		     {{sflow.flow|latexnewline}} \\ 
	    \hline
		{% endfor %}
		\hline
		\end{tabular}
		\caption{Fluxos secundários para UC:\ref{uc{{case.id}}}}
		\label{tbl:use_secondary_flows{{case.id}}}
	\end{table}
{% endif%}

{% endfor %}

\end{document}
